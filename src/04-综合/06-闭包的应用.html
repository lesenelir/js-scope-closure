<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <title>闭包的应用</title>
  </head>
  <body>

    <script>
      // 闭包设计初衷：函数外部访问函数内部变量的问题


      // 闭包应用：
      // 1. 函数外部访问私有变量
      // 2. 实现封装
      // 3. 防止污染全局变量
      function Person() {
        var uname
        // 通过两个接口可以在函数外部访问内部的变量
        function setName(uname) {
          this.uname = uname
        }
        function getName() {
          return this.uname
        }
        return {
          getName: getName,
          setName: setName
        }
      }

      var person = Person()
      console.dir(person)
      person.setName('xiaopang')
      var name = person.getName()
      console.log(name)
    </script>

  </body>
</html>
